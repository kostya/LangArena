FROM benchmarks:base

ARG version

ENV GRAALVM_VERSION="$version"

RUN wget -O graalvm.tar.gz "https://github.com/graalvm/graalvm-ce-builds/releases/download/jdk-${GRAALVM_VERSION}/graalvm-community-jdk-${GRAALVM_VERSION}_linux-x64_bin.tar.gz" \
    && tar -xzf graalvm.tar.gz -C /opt \
    && rm graalvm.tar.gz

ENV GRAALVM_HOME="/opt/graalvm-community-openjdk-${GRAALVM_VERSION}+10.1"
ENV PATH="${GRAALVM_HOME}/bin:${PATH}"

# RUN ${GRAALVM_HOME}/bin/gu install native-image

ARG mavenversion

RUN wget https://dlcdn.apache.org/maven/maven-3/$mavenversion/binaries/apache-maven-$mavenversion-bin.tar.gz && \
    tar -xzf apache-maven-$mavenversion-bin.tar.gz -C /opt && \
    ln -s /opt/apache-maven-$mavenversion /opt/maven

ENV PATH="/opt/maven/bin:$PATH"
